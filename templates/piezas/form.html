{% extends "base.html" %}

{% block title %}
    {% if pieza %}Editar Pieza{% else %}Crear Pieza{% endif %}
{% endblock %}

{% block content %}

<div class="container mt-4">

    <h2 class="mb-4">
        {% if pieza %}
            ✏️ Editar Pieza
        {% else %}
            ➕ Crear Pieza
        {% endif %}
    </h2>

    <form method="POST">

        <!-- NOMBRE -->
        <div class="mb-3">
            <label class="form-label">Nombre de la pieza</label>
            <input type="text" name="nombre" class="form-control" required
                   value="{{ pieza.nombre if pieza else '' }}">
        </div>

        <!-- VIDA EN DÍAS -->
        <div class="mb-3">
            <label class="form-label">Vida útil (días)</label>
            <input type="number" name="vida_dias" class="form-control" min="1"
                   value="{{ pieza.vida_dias if pieza and pieza.vida_dias else '' }}">
        </div>

        <!-- UNIDAD -->
        <div class="mb-3">
            <label class="form-label">Unidad</label>
            <input type="text" name="unidad" class="form-control"
                   value="{{ pieza.unidad if pieza else '' }}">
        </div>

        <!-- DESCRIPCIÓN -->
        <div class="mb-3">
            <label class="form-label">Descripción</label>
            <textarea name="descripcion" class="form-control">{{ pieza.descripcion if pieza else '' }}</textarea>
        </div>

        <!-- IMAGEN URL -->
        <div class="mb-3">
            <label class="form-label">URL de imagen (opcional)</label>
            <input type="text" name="imagen_url" class="form-control"
                   value="{{ pieza.imagen_url if pieza else '' }}">
        </div>

        <!-- BOTONES -->
        <div class="mt-4">
            <button type="submit" class="btn btn-primary">
                {% if pieza %}Guardar Cambios{% else %}Crear Pieza{% endif %}
            </button>

            <a href="{{ url_for('piezas.index') }}" class="btn btn-secondary ms-2">
                Cancelar
            </a>
        </div>

    </form>

</div>

{% endblock %}
